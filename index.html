<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Cyber Security Awareness Demo</title>

<style>
:root {
  --green: #00ff9c;
  --red: #ff3b3b;
  --blue: #00b7ff;
  --yellow: #ffd000;
  --bg: #05070a;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background: radial-gradient(circle at top, #0b1220, #05070a);
  color: var(--green);
  font-family: "Segoe UI", monospace;
  overflow: hidden;
}

/* HEADER */
#header {
  text-align: center;
  padding: 14px;
  font-size: 22px;
  letter-spacing: 2px;
  border-bottom: 1px solid #1aff8c40;
  background: #070b14;
}

/* STATUS BAR */
#status {
  text-align: center;
  font-size: 14px;
  color: var(--yellow);
  margin-top: 8px;
}

/* LIGHTS */
#lights {
  display: flex;
  justify-content: center;
  gap: 22px;
  margin: 18px 0;
}

.light {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: #222;
  box-shadow: 0 0 10px #000 inset;
  transition: 0.3s;
}

/* PROGRESS */
#progressBox {
  width: 80%;
  margin: 10px auto;
  height: 10px;
  background: #111;
  border-radius: 10px;
  overflow: hidden;
  display: none;
}

#progress {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--yellow), var(--red));
  transition: width 0.2s;
}

/* TERMINAL */
#terminal {
  padding: 18px;
  height: calc(100vh - 260px);
  overflow-y: auto;
  font-size: 14px;
  line-height: 1.45;
  white-space: pre-line;
}

/* VIDEO */
#hackVideo {
  display: none;
  width: 100%;
  height: calc(100vh - 140px);
  object-fit: cover;
}

/* SCROLLBAR */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: #1aff8c50; }

</style>
</head>

<body>

<div id="header">CYBER SECURITY AWARENESS SIMULATION</div>
<div id="status">üü° Monitoring Network Activity</div>

<div id="lights">
  <div class="light" id="redLight"></div>
  <div class="light" id="greenLight"></div>
  <div class="light" id="blueLight"></div>
</div>

<div id="progressBox"><div id="progress"></div></div>

<div id="terminal">
‚ö†Ô∏è Educational simulation only.  
No real hacking, no data collection.

System initialized.
Awaiting command‚Ä¶
</div>

<video
  id="hackVideo"
  src="hacking_demo.mp4"
  muted
  autoplay
  playsinline
></video>

<script>
const terminal = document.getElementById("terminal");
const video = document.getElementById("hackVideo");
const statusText = document.getElementById("status");
const progressBox = document.getElementById("progressBox");
const progress = document.getElementById("progress");

const red = document.getElementById("redLight");
const green = document.getElementById("greenLight");
const blue = document.getElementById("blueLight");

function clearLights() {
  red.style.background = "#222";
  green.style.background = "#222";
  blue.style.background = "#222";
}

function setLight(el, color) {
  clearLights();
  el.style.background = color;
  el.style.boxShadow = `0 0 15px ${color}`;
}

function log(text) {
  terminal.textContent += "\n" + text;
  terminal.scrollTop = terminal.scrollHeight;
}

function startMonitoring() {
  terminal.textContent = "";
  statusText.textContent = "üü° Threat analysis in progress";
  setLight(red, "var(--yellow)");
  progressBox.style.display = "block";
  progress.style.width = "0%";

  let p = 0;
  const interval = setInterval(() => {
    p += Math.random() * 8;
    progress.style.width = p + "%";
    if (p >= 100) {
      clearInterval(interval);
      progressBox.style.display = "none";
      startHack();
    }
  }, 180);
}

function startHack() {
  terminal.textContent = "";
  statusText.textContent = "üî¥ Intrusion Detected";
  setLight(red, "var(--red)");

  const lines = [
    "Initializing attack surface mapping‚Ä¶",
    "Enumerating live hosts‚Ä¶",
    "Detected misconfigured firewall rule",
    "Exploiting weak authentication vector",
    "Privilege escalation successful",
    "Session token intercepted",
    "Injecting persistence module",
    "Sensitive credentials extracted",
    "Outbound data channel established",
    "Log traces obfuscated",
    "Simulation breach completed"
  ];

  let i = 0;
  const interval = setInterval(() => {
    log("[+] " + lines[i]);
    i++;
    if (i >= lines.length) clearInterval(interval);
  }, 350);
}

function playVideo() {
  terminal.textContent = "";
  statusText.textContent = "üé• Visual Attack Demonstration";
  video.style.display = "block";
  video.currentTime = 0;
  video.play().catch(()=>{});
}

function resetDemo() {
  video.pause();
  video.style.display = "none";
  clearLights();
  statusText.textContent = "üü¢ System Secure";

  terminal.textContent =
`‚úî Simulation Reset

Most cyber attacks succeed due to:
‚Ä¢ Weak passwords
‚Ä¢ Phishing links
‚Ä¢ Unpatched systems
‚Ä¢ Public Wi-Fi misuse

This demo shows how attacks LOOK ‚Äî not how to perform them.

Stay alert. Stay secure.`;
}

/* WEBSOCKET */
const wsProtocol = location.protocol === "https:" ? "wss://" : "ws://";
const ws = new WebSocket(wsProtocol + location.host + "/ws");

ws.onmessage = (e) => {
  const cmd = e.data.toUpperCase();

  if (cmd === "START") startMonitoring();
  if (cmd === "RED") { statusText.textContent="üî¥ Alert Mode"; setLight(red,"var(--red)"); }
  if (cmd === "GREEN") { statusText.textContent="üü¢ Secure"; setLight(green,"var(--green)"); }
  if (cmd === "BLUE") { statusText.textContent="üîµ Analysis Mode"; setLight(blue,"var(--blue)"); }
  if (cmd === "VIDEO") playVideo();
  if (cmd === "RESET") resetDemo();
};
</script>

</body>
</html>