<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Voice Hacking Demo</title>

  <style>
    body {
      margin: 0;
      background: #000;
      color: #00f7ff;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
    }

    .container {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    video {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      display: none;
    }

    .title {
      font-size: 48px;
      letter-spacing: 3px;
      margin-bottom: 20px;
      text-shadow: 0 0 20px #00f7ff;
    }

    .status {
      font-size: 24px;
      padding: 15px 30px;
      border: 2px solid #00f7ff;
      border-radius: 8px;
      box-shadow: 0 0 15px #00f7ff;
      max-width: 80%;
      text-align: center;
    }

    .attack {
      color: red;
      border-color: red;
      box-shadow: 0 0 20px red;
      text-shadow: 0 0 10px red;
    }

    .secure {
      color: #00ff88;
      border-color: #00ff88;
      box-shadow: 0 0 20px #00ff88;
    }

    .monitoring {
      color: #ffaa00;
      border-color: #ffaa00;
      box-shadow: 0 0 20px #ffaa00;
    }

    .idle {
      color: #00f7ff;
    }

    .reset {
      color: #ffffff;
      border-color: #ffffff;
      box-shadow: 0 0 25px #ffffff;
      text-shadow: 0 0 8px #ffffff;
    }
  </style>
</head>

<body>
  <div class="container">
    <video id="attackVideo" src="/static/attack.mp4" muted autoplay loop></video>

    <div class="title">CYBERSECURITY COMMAND DEMO</div>
    <div id="statusBox" class="status idle">System Idle ‚Äî Awaiting Commands</div>
  </div>

  <script>
    const ws = new WebSocket(
      (location.protocol === "https:" ? "wss://" : "ws://") +
      location.host +
      "/ws"
    );

    const statusBox = document.getElementById("statusBox");
    const attackVideo = document.getElementById("attackVideo");

    ws.onopen = () => {
      console.log("WebSocket connected");
    };

    ws.onmessage = (event) => {
      const state = event.data;
      console.log("State received:", state);

      statusBox.className = "status";
      attackVideo.style.display = "none";

      if (state === "idle") {
        statusBox.classList.add("idle");
        statusBox.innerText =
          "System Idle ‚Äî No active threats detected. Standing by for analysis.";

      } else if (state === "attack") {
        statusBox.classList.add("attack");
        statusBox.innerText =
          "‚ö†Ô∏è ACTIVE ATTACK DETECTED ‚ö†Ô∏è\nVoice manipulation attempt in progress. Unauthorized access being simulated.";
        attackVideo.style.display = "block";
        attackVideo.play();

      } else if (state === "monitoring") {
        statusBox.classList.add("monitoring");
        statusBox.innerText =
          "üîç LIVE MONITORING MODE\nSystem intelligence is actively analyzing voice patterns, anomalies, and behavioral signals in real time.";

      } else if (state === "secure") {
        statusBox.classList.add("secure");
        statusBox.innerText =
          "üõ°Ô∏è SYSTEM SECURED\nThreat successfully mitigated. Voice authentication restored. Data integrity and user trust protected.";

      } else if (state === "reset") {
        statusBox.classList.add("reset");
        statusBox.innerText =
          "üîÅ DEMO RESET ‚Äî KEY LEARNING\n\nThis project demonstrates how emerging technologies like voice AI can be exploited if not secured properly.\n\nIt highlights the importance of:\n‚Ä¢ Continuous monitoring\n‚Ä¢ Strong authentication\n‚Ä¢ Real-time threat detection\n‚Ä¢ Proactive cybersecurity awareness\n\nSecurity is not optional ‚Äî it is essential.";

      }
    };
  </script>
</body>
</html>