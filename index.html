<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cybersecurity Command Demo</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: radial-gradient(circle, #222, #000);
    color: #fff;
    transition: background 0.4s ease;
    overflow: hidden;
}

.container {
    display: flex;
    height: 100vh;
}

.left {
    width: 35%;
    background: #111;
    padding: 20px;
    border-right: 3px solid #333;
}

.right {
    width: 65%;
    padding: 20px;
    background: #000;
    overflow-y: auto;
    position: relative;
}

/* Title */
h1 {
    color: #0ff;
    text-align: center;
}

/* Buttons */
.btn {
    width: 100%;
    padding: 14px;
    margin: 12px 0;
    font-size: 16px;
    background: #222;
    border: 2px solid #0ff;
    color: #0ff;
    opacity: 0.5;
    cursor: not-allowed;
}

.btn.active {
    border-color: lime;
    color: lime;
    opacity: 1;
    box-shadow: 0 0 12px lime;
}

/* Status */
.status {
    margin-top: 20px;
    padding: 12px;
    background: #222;
    border-left: 6px solid yellow;
    font-weight: bold;
}

/* Output */
.log {
    white-space: pre-line;
    font-family: monospace;
    font-size: 15px;
    color: red;
    animation: glitch 1.5s infinite;
}

/* Glitch effect */
@keyframes glitch {
    0% { text-shadow: 2px 0 red; }
    20% { text-shadow: -2px 0 cyan; }
    40% { text-shadow: 2px 0 lime; }
    60% { text-shadow: -2px 0 red; }
    80% { text-shadow: 2px 0 cyan; }
    100% { text-shadow: none; }
}

/* Progress bar */
.progress {
    width: 100%;
    height: 8px;
    background: #111;
    border: 1px solid red;
    margin-bottom: 12px;
    overflow: hidden;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: red;
    animation: progressAnim 6s linear forwards;
}

@keyframes progressAnim {
    from { width: 0%; }
    to { width: 100%; }
}

/* Video */
video {
    width: 100%;
    border: 3px solid red;
}
</style>
</head>

<body>
<div class="container">
    <div class="left">
        <h1>CYBERSECURITY COMMAND<br>DEMO</h1>

        <button class="btn" id="btn-attack">â–¶ Start Attack Simulation</button>
        <button class="btn" id="btn-monitoring">ðŸ”µ Monitoring Mode</button>
        <button class="btn" id="btn-secure">ðŸŸ¢ Secure Mode</button>
        <button class="btn" id="btn-video">ðŸŽ¥ Play Attack Video</button>
        <button class="btn" id="btn-reset">âŸ³ Reset Demo</button>

        <div class="status" id="status">ðŸŸ¡ System Idle â€“ No Threat Detected</div>
    </div>

    <div class="right">
        <div id="output"></div>
    </div>
</div>

<script>
const ws = new WebSocket(
    (location.protocol === "https:" ? "wss://" : "ws://") + location.host + "/ws"
);

const output = document.getElementById("output");
const status = document.getElementById("status");
const buttons = {
    attack: document.getElementById("btn-attack"),
    monitoring: document.getElementById("btn-monitoring"),
    secure: document.getElementById("btn-secure"),
    video: document.getElementById("btn-video"),
    reset: document.getElementById("btn-reset")
};

function clearActive() {
    Object.values(buttons).forEach(b => b.classList.remove("active"));
}

ws.onmessage = (e) => {
    const cmd = e.data;
    clearActive();
    output.innerHTML = "";

    if (cmd === "idle") {
        document.body.style.background = "#222";
        status.innerText = "ðŸŸ¡ System Idle â€“ No Threat Detected";
        status.style.borderLeftColor = "yellow";
    }

    if (cmd === "attack") {
        document.body.style.background = "#300";
        status.innerText = "ðŸ”´ ACTIVE CYBER ATTACK DETECTED";
        status.style.borderLeftColor = "red";
        buttons.attack.classList.add("active");

        output.innerHTML = `
            <div class="progress"><div class="progress-bar"></div></div>
            <div class="log" id="log"></div>
        `;

        const lines = [
            "Initializing intrusion detection...",
            "Unauthorized access detected",
            "Firewall bypass attempt",
            "Exploit payload injected",
            "Privilege escalation successful",
            "Suspicious process spawned",
            "Kernel memory modified",
            "Root access achieved",
            "Credential harvesting active",
            "Keylogger running",
            "Encrypted tunnel established",
            "C2 server connected",
            "Lateral movement detected",
            "Zero-day exploit executed",
            "Malware persistence installed",
            "System hooks injected",
            "Data exfiltration in progress",
            "Sensitive files accessed",
            "Shadow copy deleted",
            "Security logs erased",
            "Backdoor listening on port 443",
            "Process masquerading as system",
            "Memory dump initiated",
            "Command execution confirmed",
            "Privilege tokens forged",
            "Threat escalation detected",
            "Defense evasion active",
            "Antivirus disabled",
            "Ransomware module loaded",
            "Encryption key generated",
            "User activity monitored",
            "Remote shell active",
            "Network isolation advised",
            "Incident response required",
            "Threat level: CRITICAL",
            "Attack simulation ongoing...",
            "System integrity compromised",
            "Unauthorized persistence confirmed",
            "Attack chain complete"
        ];

        const log = document.getElementById("log");
        let i = 0;
        const interval = setInterval(() => {
            if (i >= lines.length) return clearInterval(interval);
            log.innerText += lines[i++] + "\n";
        }, 120);
    }

    if (cmd === "monitoring") {
        document.body.style.background = "#002";
        status.innerText = "ðŸ”µ Monitoring Mode â€“ Traffic Observed";
        status.style.borderLeftColor = "cyan";
        buttons.monitoring.classList.add("active");
    }

    if (cmd === "secure") {
        document.body.style.background = "#020";
        status.innerText = "ðŸŸ¢ Secure Mode â€“ System Protected";
        status.style.borderLeftColor = "lime";
        buttons.secure.classList.add("active");
    }

    if (cmd === "video") {
        buttons.video.classList.add("active");
        output.innerHTML = `
            <video autoplay muted playsinline>
                <source src="/static/hacking_demo.mp4" type="video/mp4">
            </video>
        `;
    }

    if (cmd === "reset") {
        document.body.style.background = "#000";
        status.innerText = "âœ” Threat Neutralized";
        status.style.borderLeftColor = "lime";
        buttons.reset.classList.add("active");

        output.innerHTML = `
            <h2>Security Restored</h2>
            <ul>
                <li>Attack detected and contained</li>
                <li>System integrity verified</li>
                <li>Defensive layers restored</li>
                <li>User awareness prevents breaches</li>
            </ul>
        `;
    }
};
</script>
</body>
</html>