<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Cyber Security Threat Simulation</title>

<style>
  body {
    margin: 0;
    background: radial-gradient(circle at top, #0b0f17, #02040a);
    color: #e6f1ff;
    font-family: "Segoe UI", system-ui, monospace;
    overflow: hidden;
  }

  #header {
    padding: 14px;
    text-align: center;
    font-size: 24px;
    letter-spacing: 2px;
    background: linear-gradient(90deg, #0a2540, #000);
    border-bottom: 2px solid #1a73e8;
  }

  #subheader {
    text-align: center;
    font-size: 14px;
    opacity: 0.75;
    margin-top: 4px;
  }

  #lights {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin: 20px 0;
  }

  .light {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: #1c2333;
    box-shadow: inset 0 0 8px #000;
  }

  #terminal {
    padding: 20px;
    height: calc(100vh - 210px);
    overflow-y: auto;
    white-space: pre-line;
    font-size: 15px;
    line-height: 1.6;
    color: #ff6b6b;
  }

  #hackVideo {
    display: none;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .footer {
    position: absolute;
    bottom: 10px;
    width: 100%;
    text-align: center;
    font-size: 12px;
    opacity: 0.6;
  }
</style>
</head>

<body>

<div id="header">
  CYBER SECURITY AWARENESS & THREAT SIMULATION
  <div id="subheader">
    Educational demonstration â€¢ No real attack involved
  </div>
</div>

<div id="lights">
  <div class="light" id="redLight"></div>
  <div class="light" id="greenLight"></div>
  <div class="light" id="blueLight"></div>
</div>

<div id="terminal">
ðŸŸ¡ System Status: NORMAL OPERATION

â€¢ Network traffic within expected limits  
â€¢ No active threat detected  
â€¢ Monitoring enabled  

Use authorized command interface to simulate events.
</div>

<video
  id="hackVideo"
  src="/static/hacking_demo.mp4"
  muted
  autoplay
  playsinline
></video>

<div class="footer">
  Cybersecurity Awareness Project â€¢ Demonstration Environment
</div>

<script>
const terminal = document.getElementById("terminal");
const video = document.getElementById("hackVideo");

const red = document.getElementById("redLight");
const green = document.getElementById("greenLight");
const blue = document.getElementById("blueLight");

function clearLights() {
  red.style.background = "#1c2333";
  green.style.background = "#1c2333";
  blue.style.background = "#1c2333";
}

function log(text) {
  terminal.textContent += "\n" + text;
  terminal.scrollTop = terminal.scrollHeight;
}

function hackingSimulation() {
  terminal.textContent = "ðŸ”´ ACTIVE THREAT DETECTED\n\n";
  const lines = [
    "â€¢ Suspicious traffic spike detected",
    "â€¢ Unauthorized access attempt identified",
    "â€¢ Exploit payload injected",
    "â€¢ Firewall rules bypassed",
    "â€¢ Privilege escalation successful",
    "â€¢ Sensitive data accessed",
    "â€¢ Exfiltration channel established",
    "â€¢ Threat level escalated to CRITICAL",
    "â€¢ Incident response required"
  ];

  let i = 0;
  const interval = setInterval(() => {
    log(lines[i]);
    i++;
    if (i >= lines.length) clearInterval(interval);
  }, 450);
}

function playVideo() {
  terminal.textContent = "ðŸ“½ï¸ Incident Footage: Simulated Cyber Attack\n";
  video.style.display = "block";
  video.currentTime = 0;
  video.play().catch(() => {});
}

function resetDemo() {
  video.pause();
  video.style.display = "none";
  terminal.textContent =
`ðŸŸ¢ SYSTEM SECURED

â€¢ Threat neutralized
â€¢ Systems restored
â€¢ No data loss confirmed

Key Lessons:
âœ” Use strong passwords
âœ” Avoid suspicious links
âœ” Keep systems updated
âœ” Enable multi-factor authentication`;

  clearLights();
}

const wsProtocol = location.protocol === "https:" ? "wss://" : "ws://";
const ws = new WebSocket(wsProtocol + location.host + "/ws");

ws.onmessage = (event) => {
  const cmd = event.data.toUpperCase();

  if (cmd === "START") {
    clearLights();
    red.style.background = "red";
    hackingSimulation();
  }

  if (cmd === "RED") {
    clearLights();
    red.style.background = "red";
  }

  if (cmd === "GREEN") {
    clearLights();
    green.style.background = "green";
    terminal.textContent = "ðŸŸ¢ SYSTEM STATUS: SECURE";
  }

  if (cmd === "BLUE") {
    clearLights();
    blue.style.background = "#1a73e8";
    terminal.textContent = "ðŸ”µ MONITORING MODE ENABLED";
  }

  if (cmd === "VIDEO") playVideo();
  if (cmd === "RESET") resetDemo();
};
</script>

</body>
</html>