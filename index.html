<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cybersecurity Command Demo</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: radial-gradient(circle, #222, #000);
    color: #fff;
    transition: background 0.5s ease;
}

.container {
    display: flex;
    height: 100vh;
}

.left {
    width: 35%;
    background: #111;
    padding: 20px;
    border-right: 3px solid #333;
}

.right {
    width: 65%;
    padding: 20px;
    background: #000;
    overflow-y: auto;
}

h1 {
    color: #0ff;
    text-align: center;
}

.btn {
    width: 100%;
    padding: 14px;
    margin: 12px 0;
    font-size: 16px;
    background: #222;
    border: 2px solid #0ff;
    color: #0ff;
    opacity: 0.6;
    cursor: not-allowed;
}

.status {
    margin-top: 20px;
    padding: 12px;
    background: #222;
    border-left: 6px solid yellow;
    font-weight: bold;
}

.log {
    white-space: pre-line;
    font-family: monospace;
    font-size: 15px;
    color: #ff4d4d;
}

video {
    width: 100%;
    border: 3px solid red;
}
</style>
</head>

<body>
<div class="container">
    <div class="left">
        <h1>CYBERSECURITY COMMAND<br>DEMO</h1>

        <button class="btn">â–¶ Start Attack Simulation</button>
        <button class="btn">ðŸ”µ Monitoring Mode</button>
        <button class="btn">ðŸŸ¢ Secure Mode</button>
        <button class="btn">ðŸŽ¥ Play Attack Video</button>
        <button class="btn">âŸ³ Reset Demo</button>

        <div class="status" id="status">ðŸŸ¡ System Idle â€“ No Threat Detected</div>
    </div>

    <div class="right">
        <div id="output"></div>
    </div>
</div>

<script>
let lastCmd = "";

const output = document.getElementById("output");
const status = document.getElementById("status");

async function poll() {
    try {
        const res = await fetch("/state");
        const data = await res.json();
        const cmd = data.state;

        if (cmd === lastCmd) return;
        lastCmd = cmd;

        if (cmd === "idle") {
            document.body.style.background = "#222";
            status.innerText = "ðŸŸ¡ System Idle â€“ No Threat Detected";
            status.style.borderLeftColor = "yellow";
            output.innerHTML = "";
        }

        if (cmd === "attack") {
            document.body.style.background = "#300";
            status.innerText = "ðŸ”´ ACTIVE CYBER ATTACK DETECTED";
            status.style.borderLeftColor = "red";
            output.innerText = "";

            const lines = [
                "Initializing intrusion detection...",
                "Unauthorized access detected",
                "Firewall bypass attempt",
                "Exploit payload injected",
                "Privilege escalation successful",
                "Suspicious process spawned",
                "Data exfiltration in progress",
                "Command & control connected",
                "Persistence mechanism installed",
                "Credential harvesting active",
                "Keylogger running",
                "Root access achieved",
                "System integrity compromised",
                "Encrypted tunnel established",
                "Malware spreading laterally",
                "Zero-day exploit executed",
                "Threat level: CRITICAL",
                "Incident response required",
                "Network isolation advised",
                "Attack simulation complete"
            ];

            let i = 0;
            const interval = setInterval(() => {
                if (i >= lines.length) return clearInterval(interval);
                output.innerText += lines[i++] + "\n";
            }, 140);
        }

        if (cmd === "monitoring") {
            document.body.style.background = "#002";
            status.innerText = "ðŸ”µ Monitoring Mode â€“ Traffic Observed";
            status.style.borderLeftColor = "cyan";
            output.innerHTML = "";
        }

        if (cmd === "secure") {
            document.body.style.background = "#020";
            status.innerText = "ðŸŸ¢ Secure Mode â€“ System Protected";
            status.style.borderLeftColor = "lime";
            output.innerHTML = "";
        }

        if (cmd === "video") {
            output.innerHTML = `
                <video autoplay muted playsinline>
                    <source src="/static/hacking_demo.mp4" type="video/mp4">
                </video>
            `;
        }

        if (cmd === "reset") {
            document.body.style.background = "#000";
            status.innerText = "âœ” Threat Neutralized";
            status.style.borderLeftColor = "lime";

            output.innerHTML = `
                <h2>Security Restored</h2>
                <ul>
                    <li>Attack detected and contained</li>
                    <li>Regular updates prevent breaches</li>
                    <li>User awareness is critical</li>
                    <li>Prevention is stronger than response</li>
                </ul>
            `;
        }
    } catch (e) {}
}

setInterval(poll, 1000);
</script>
</body>
</html>